(()=>{"use strict";function e(e,n,o,t){t.beginPath(),t.arc(e,n,5*o,0,2*Math.PI,!1),t.fill(),t.closePath()}function n(){focused&&requestAnimationFrame(n),function(n){let o=n.length;for(;o--;){let t=n[o],i=t.x,s=t.y,a=t.size;e(i,s,a,ctx),t.dy-=options.gravity,t.x-=t.dx,t.y-=t.dy,t.size-=.05,(n[o].size<.3||Math.random()<options.consistency)&&(e(i,s,a,ctx),n.splice(o,1))}}(items)}function o(e,n,o){for(let t=0;t<30;t++){let t=Math.random()*Math.PI,i=(Math.random()<.5?3:-3)*(3*Math.random())*options.scatter,s=(Math.random()<.5?3:-3)*(3*Math.random())*options.scatter;o.push({x:e,y:n,dx:i+mouse.dx,dy:s+mouse.dy,size:t})}}window.canvas=document.getElementById("canvas"),window.ctx=canvas.getContext("2d"),window.collisionCanvas=document.getElementById("collisionCanvas"),window.collisionCtx=collisionCanvas.getContext("2d"),window.items=[],window.kills=0,window.tone="#ffffff",collisionCanvas.width=window.innerWidth,collisionCanvas.height=window.innerHeight,canvas.width=window.innerWidth,canvas.height=window.innerHeight,ctx.font="50px Impact",window.focused=!1,window.clicked=!1,window.gameEnd=!1,window.mouse={x:0,y:0,dx:0,dy:0,px:0,py:0},window.options={scatter:0,gravity:.2,consistency:.04};let t=[];canvas.addEventListener("mousemove",(e=>{document.getElementById("raygun").style.top=e.pageY+"px"})),window.addEventListener("click",(function(e){!function(){if("block"==canvas.style.display){let e=new Audio("raygunsound.mp3");e.play(),e.setAttribute("id","rayGunSound"),e.loop=!1}}(),function(){let e=document.getElementById("raygun");e.src="coloredraygunfire.png",setTimeout((function(){e.src="coloredraygun.png"}),100)}();const i=collisionCtx.getImageData(e.x,e.y,1,1).data;t.forEach((t=>{t.randomColors[0]===i[0]&&t.randomColors[1]===i[1]&&t.randomColors[2]===i[2]&&(t.markedForDeletion=!0,kills++,focused?(clicked=!0,setTimeout((function(){clicked=!1}),100),mouse.x=e.pageX,mouse.y=e.pageY,ctx.fillStyle=tone,o(mouse.x,mouse.y,items),setTimeout((function(){ctx.clearRect(0,0,canvas.width,canvas.height)}),1e3)):(focused=!0,n()))}))})),document.getElementById("restartButton").addEventListener("click",(function(){console.log("hi")})),canvas.onmousemove=function(e){if(clicked){let n=mouse.px-mouse.x,t=mouse.py-mouse.y;mouse={x:e.pageX,y:e.pageY,dx:Math.abs(n)>10?-10:n,dy:Math.abs(t)>10?-10:t,px:mouse.x,py:mouse.y},o(mouse.x,mouse.y,items)}}})();